<div class="form-container">
    <div class="header">
        <h2>{{ isEditMode ? 'Modifier' : 'Ajouter' }} un Cours</h2>
    </div>

    <form [formGroup]="courseForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label>Matière</label>
            <select formControlName="subjectId" class="form-control"
                [class.error]="submitted && courseForm.get('subjectId')?.invalid">
                <option value="">Sélectionner une matière</option>
                <option *ngFor="let subject of subjects" [value]="subject.id">{{ subject.name }} ({{ subject.code }})
                </option>
            </select>
            <span class="error-msg" *ngIf="submitted && courseForm.get('subjectId')?.errors?.['required']">Matière
                requise</span>
        </div>

        <div class="form-group">
            <label>Classe</label>
            <select formControlName="classId" class="form-control"
                [class.error]="submitted && courseForm.get('classId')?.invalid">
                <option value="">Sélectionner une classe</option>
                <option *ngFor="let cls of classes" [value]="cls.id">{{ cls.name }} ({{ cls.level }})</option>
            </select>
            <span class="error-msg" *ngIf="submitted && courseForm.get('classId')?.errors?.['required']">Classe
                requise</span>
        </div>

        <div class="form-group">
            <label>Enseignant</label>
            <select formControlName="teacherId" class="form-control"
                [class.error]="submitted && courseForm.get('teacherId')?.invalid">
                <option value="">Sélectionner un enseignant</option>
                <option *ngFor="let teacher of teachers" [value]="teacher.id">{{ teacher.fullName }}</option>
            </select>
            <span class="error-msg" *ngIf="submitted && courseForm.get('teacherId')?.errors?.['required']">Enseignant
                requis</span>
        </div>

        <div class="form-actions">
            <button type="button" routerLink="/courses" class="btn btn-secondary">Annuler</button>
            <button type="submit" class="btn btn-primary">{{ isEditMode ? 'Mettre à jour' : 'Créer' }}</button>
        </div>
    </form>
</div>